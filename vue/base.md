### 1、vue2 和 vue3 中同时使用 v-for 和 v-if 会怎样？

这些模版语法不是 Javascript 原生的，因此需要经过一个编译的过程，将它们转为 render 函数。
经历 render 函数-->虚拟 DOM-->真实 DOM 这样的过程,呈现到页面当中。
因此，剖析这个问题的关键就是看编译成的 render 函数。vue2.x 和 vue3.x 的编译结果是不一样的。
vue2.x 先编译 v-for，vue3.x 先编译 v-if。

在 vue 的官方文档中，明确说明不建议 v-for 和 v-if 同时使用，因为他们的优先级不同。

（1）在 vue2.x 中，v-for 的优先级高于 v-if 的优先级，当同时使用时，会导致 v-if 没有判断时，元素已经被渲染了一部分。

（2）在 vue3.x 中，v-if 的优先级高于 v-for 的优先级，因此 v-if 执行时要调用的变量可能还不存在，会导致报错。

### 2、vue 的编译过程是：

1.先从字符串生成 AST --- parse

2.对 AST 进行优化处理（标记静态节点等）--- optimize

3.将 AST 对象转为字符串形式的 JS 代码 --- generate

### 3、抽象语法树 AST

抽象语法树（Abstract Syntax Tree）是源代码的语法结构的一种表示。它通过抽象的方式，将编程语言的源代码转换成一种树形结构，使得编程语言的语义分析和代码优化等操作变得更加简单和高效。

在 AST 中，每个节点代表源代码中的一种结构。例如，在一个表达式中，节点可能代表一个操作符、一个操作数、一个函数调用等。AST 的结构清晰地反映了程序的语法结构，但省略了源代码中的一些信息，如括号、空格等，这些信息在语法分析阶段并不重要。

AST 的构建通常在编译器或解释器的前端阶段完成，这个过程称为“解析”（Parsing）。解析器读取源代码，根据编程语言的语法规则，逐步构建出 AST。这个过程可以手工编写解析器，也可以使用现成的解析器生成器，如 Yacc、Bison 等。

AST 在编译器中的作用非常关键，它为后续的语义分析、中间代码生成、代码优化等步骤提供了基础。例如，在语义分析阶段，编译器会遍历 AST，检查变量的使用是否正确，类型是否匹配等。在代码优化阶段，编译器可能会对 AST 进行变换，以生成更高效的代码。

AST 的另一个重要应用是在代码编辑器和 IDE 中。现代的代码编辑器通常会使用 AST 来提供代码高亮、自动完成、错误提示等功能。通过分析 AST，编辑器可以更准确地理解代码的结构和语义，从而提供更好的编程辅助。

总的来说，AST 是编程语言处理中一个非常基础且重要的概念，它为编程语言的解析、分析和优化提供了有力的工具。
